[General]
image-path=../../../images
output-scalar-file-append = false
**.routingRecorder.enabled = false
allow-object-stealing-on-deletion = true
#network = simu5g.simulations.Custom.calibration_v3.Network
network = NetworkRural
cmdenv-interactive=true


############### Statistics ##################
output-scalar-file = ${resultdir}/${configname}/${iterationvars}-${repetition}.sca
output-vector-file = ${resultdir}/${configname}/${iterationvars}-${repetition}.vec
seed-set = 15
**.sctp.**.scalar-recording = false  # remove annoying statistics from SCTP
**.sctp.**.vector-recording = false  # remove annoying statistics from SCTP

#**.measuredSinrDl:vector.vector-recording = true
#**.servingCellDl:vector.vector-recording = true
#**.couplingGain:vector.vector-recording = true

**.servingSINR:vector.vector-recording = true
**.servingRSRP:vector.vector-recording = true
**.servingCell:vector.vector-recording = true
**.servingCouplingGain:vector.vector-recording = true


**.positionX:vector.vector-recording = true
**.positionY:vector.vector-recording = true
**.servingDistance:vector.vector-recording = true
**.timestamp:vector.vector-recording = true
**.UEid:vector.vector-recording = true

**.scalar-recording = false
**.vector-recording = false

############### SCTP configuration ##################
**.sctp.nagleEnabled = false         # if true, transmission of small packets will be delayed on the X2
**.sctp.enableHeartbeats = false

############### General PHY parameters ##############
**.scenario = "RURAL_MACROCELL"
**.ueTxPower = 23
**.eNodeBTxPower = 46
#**.targetBler = 0.0001
#**.blerShift = 5  
#**.fbPeriod = 40   # reports CQI every 40ms

**.ue_noise_figure = 7
**.bs_noise_figure = 5

**.nodeb_height = 35
**.building_height = 10


**.shadowing = true
**.fading = true
**.fading_type = "JAKES"
**.fading_paths = 6


**.thermalNoise = ${thermal=-82} #based on the calculation for 10Mhz (https://www.electronics-notes.com/articles/basic_concepts/electronic-rf-noise/thermal-noise-calculations-calculator-formulas.php)

**.downlink_interference = true
**.uplink_interference = false
**.bgCell_interference = false
**.extCell_interference = false
**.d2d_interference = false
**.enable_extCell_los = false
**.dynamic_los = true        #previously true
**.fixed_los = false
#**.useBuildingPenetrationHighLossModel = true

#**.rbyDl = ${rb=12,4,8,16,20}	

**.tolerateMaxDistViolation = true

#*.channelControl.propagationModel = ${lossModel="FreeSpacePathLoss", "LogNormalShadowing", "TwoRayGroundReflection", "TwoRayInterference", "RicianFading", "RayleighFading"}
############### IPv4 configurator config #################
*.configurator.config = xmldoc("./demo.xml")


#------------------------------------#
# Config MultiCell
#
# General configuration for the for a multicell NR Standalone deployment
#
[Config MultiCell]
sim-time-limit=${time=100s}
description = "Base configuration, do not run this config!"

############# Floorplan parameters ################

## FIX CONSTRAINT AREA
**.mobility.constraintAreaMaxX = 9500m
**.mobility.constraintAreaMaxY = 9500m
**.mobility.constraintAreaMinX = 0m
**.mobility.constraintAreaMinY = 0m
**.mobility.constraintAreaMinZ = 0m
**.mobility.constraintAreaMaxZ = 0m



**.mobility.initFromDisplayString = false

############### CA configuration ################# 
*.carrierAggregation.numComponentCarriers = 1
*.carrierAggregation.componentCarrier[0].numerologyIndex = 0
#*.carrierAggregation.componentCarr;ier[0].carrierFrequency = 700MHz
*.carrierAggregation.componentCarrier[0].carrierFrequency = 4GHz
*.carrierAggregation.componentCarrier[0].numBands = 50
#*.binder.maxDataRatePerRb = 100.16Mbps


*.gnb*.cellularNic.numCarriers = 1
*.gnb*.cellularNic.channelModel[0].componentCarrierIndex = 0
*.ue[*].cellularNic.numCarriers = 1
*.ue[*].cellularNic.nrChannelModel[0].componentCarrierIndex = 0

*.gnb*.cellularNic.channelModel[0].antennGainEnB = 8
*.ue[*].cellularNic.nrChannelModel[0].antennGainEnB = 8
*.ue[*].cellularNic.channelModel[0].antennGainEnB = 8
#**.antennGainMicro = 8	


############### BS position #################

*.gnb1.mobility.initialX = 3598m
*.gnb1.mobility.initialY = 2494m
*.gnb2.mobility.initialX = 3598m
*.gnb2.mobility.initialY = 2494m
*.gnb3.mobility.initialX = 3598m
*.gnb3.mobility.initialY = 2494m

*.gnb4.mobility.initialX = 5330m
*.gnb4.mobility.initialY = 2494m
*.gnb5.mobility.initialX = 5330m
*.gnb5.mobility.initialY = 2494m
*.gnb6.mobility.initialX = 5330m
*.gnb6.mobility.initialY = 2494m

*.gnb7.mobility.initialX = 2732m
*.gnb7.mobility.initialY = 3988m
*.gnb8.mobility.initialX = 2732m
*.gnb8.mobility.initialY = 3988m
*.gnb9.mobility.initialX = 2732m
*.gnb9.mobility.initialY = 3988m

*.gnb10.mobility.initialX = 4464m
*.gnb10.mobility.initialY = 3988m
*.gnb11.mobility.initialX = 4464m
*.gnb11.mobility.initialY = 3988m
*.gnb12.mobility.initialX = 4464m
*.gnb12.mobility.initialY = 3988m

*.gnb13.mobility.initialX = 6196m
*.gnb13.mobility.initialY = 3988m
*.gnb14.mobility.initialX = 6196m
*.gnb14.mobility.initialY = 3988m
*.gnb15.mobility.initialX = 6196m
*.gnb15.mobility.initialY = 3988m

*.gnb16.mobility.initialX = 3598m
*.gnb16.mobility.initialY = 5482m
*.gnb17.mobility.initialX = 3598m
*.gnb17.mobility.initialY = 5482m
*.gnb18.mobility.initialX = 3598m
*.gnb18.mobility.initialY = 5482m

*.gnb19.mobility.initialX = 5330m
*.gnb19.mobility.initialY = 5482m
*.gnb20.mobility.initialX = 5330m
*.gnb20.mobility.initialY = 5482m
*.gnb21.mobility.initialX = 5330m
*.gnb21.mobility.initialY = 5482m

############### BS phy configuration #################
*.gnb*.cellularNic.phy.txDirection = "ANISOTROPIC"


*.gnb1.cellularNic.phy.txAngle = 30
*.gnb2.cellularNic.phy.txAngle = 150
*.gnb3.cellularNic.phy.txAngle = 270

*.gnb4.cellularNic.phy.txAngle = 30
*.gnb5.cellularNic.phy.txAngle = 150
*.gnb6.cellularNic.phy.txAngle = 270

*.gnb7.cellularNic.phy.txAngle = 30
*.gnb8.cellularNic.phy.txAngle = 150
*.gnb9.cellularNic.phy.txAngle = 270

*.gnb10.cellularNic.phy.txAngle = 30
*.gnb11.cellularNic.phy.txAngle = 150
*.gnb12.cellularNic.phy.txAngle = 270

*.gnb13.cellularNic.phy.txAngle = 30
*.gnb14.cellularNic.phy.txAngle = 150
*.gnb15.cellularNic.phy.txAngle = 270

*.gnb16.cellularNic.phy.txAngle = 30
*.gnb17.cellularNic.phy.txAngle = 150
*.gnb18.cellularNic.phy.txAngle = 270

*.gnb19.cellularNic.phy.txAngle = 30
*.gnb20.cellularNic.phy.txAngle = 150
*.gnb21.cellularNic.phy.txAngle = 270

############### X2 configuration #################
##ALL TO ALL CONF
*.gnb*.x2App[*].server.localPort = 5000 + ancestorIndex(1)  # Server ports (x2App[0]=5000, x2App[1]=5001, ...) 

### *x2 configuration
*.gnb1.numX2Apps = 20
*.gnb2.numX2Apps = 20
*.gnb3.numX2Apps = 20
*.gnb4.numX2Apps = 20
*.gnb5.numX2Apps = 20
*.gnb6.numX2Apps = 20
*.gnb7.numX2Apps = 20
*.gnb8.numX2Apps = 20
*.gnb9.numX2Apps = 20
*.gnb10.numX2Apps = 20
*.gnb11.numX2Apps = 20
*.gnb12.numX2Apps = 20
*.gnb13.numX2Apps = 20
*.gnb14.numX2Apps = 20
*.gnb15.numX2Apps = 20
*.gnb16.numX2Apps = 20
*.gnb17.numX2Apps = 20
*.gnb18.numX2Apps = 20
*.gnb19.numX2Apps = 20
*.gnb20.numX2Apps = 20
*.gnb21.numX2Apps = 20

*.gnb1.x2App[0].client.connectAddress = "gnb2%x2ppp0"
*.gnb2.x2App[0].client.connectAddress = "gnb1%x2ppp0"

*.gnb1.x2App[1].client.connectAddress = "gnb3%x2ppp0"
*.gnb3.x2App[0].client.connectAddress = "gnb1%x2ppp1"

*.gnb1.x2App[2].client.connectAddress = "gnb4%x2ppp0"
*.gnb4.x2App[0].client.connectAddress = "gnb1%x2ppp2"

*.gnb1.x2App[3].client.connectAddress = "gnb5%x2ppp0"
*.gnb5.x2App[0].client.connectAddress = "gnb1%x2ppp3"

*.gnb1.x2App[4].client.connectAddress = "gnb6%x2ppp0"
*.gnb6.x2App[0].client.connectAddress = "gnb1%x2ppp4"

*.gnb1.x2App[5].client.connectAddress = "gnb7%x2ppp0"
*.gnb7.x2App[0].client.connectAddress = "gnb1%x2ppp5"

*.gnb1.x2App[6].client.connectAddress = "gnb8%x2ppp0"
*.gnb8.x2App[0].client.connectAddress = "gnb1%x2ppp6"

*.gnb1.x2App[7].client.connectAddress = "gnb9%x2ppp0"
*.gnb9.x2App[0].client.connectAddress = "gnb1%x2ppp7"

*.gnb1.x2App[8].client.connectAddress = "gnb10%x2ppp0"
*.gnb10.x2App[0].client.connectAddress = "gnb1%x2ppp8"

*.gnb1.x2App[9].client.connectAddress = "gnb11%x2ppp0"
*.gnb11.x2App[0].client.connectAddress = "gnb1%x2ppp9"

*.gnb1.x2App[10].client.connectAddress = "gnb12%x2ppp0"
*.gnb12.x2App[0].client.connectAddress = "gnb1%x2ppp10"

*.gnb1.x2App[11].client.connectAddress = "gnb13%x2ppp0"
*.gnb13.x2App[0].client.connectAddress = "gnb1%x2ppp11"

*.gnb1.x2App[12].client.connectAddress = "gnb14%x2ppp0"
*.gnb14.x2App[0].client.connectAddress = "gnb1%x2ppp12"

*.gnb1.x2App[13].client.connectAddress = "gnb15%x2ppp0"
*.gnb15.x2App[0].client.connectAddress = "gnb1%x2ppp13"

*.gnb1.x2App[14].client.connectAddress = "gnb16%x2ppp0"
*.gnb16.x2App[0].client.connectAddress = "gnb1%x2ppp14"

*.gnb1.x2App[15].client.connectAddress = "gnb17%x2ppp0"
*.gnb17.x2App[0].client.connectAddress = "gnb1%x2ppp15"

*.gnb1.x2App[16].client.connectAddress = "gnb18%x2ppp0"
*.gnb18.x2App[0].client.connectAddress = "gnb1%x2ppp16"

*.gnb1.x2App[17].client.connectAddress = "gnb19%x2ppp0"
*.gnb19.x2App[0].client.connectAddress = "gnb1%x2ppp17"

*.gnb1.x2App[18].client.connectAddress = "gnb20%x2ppp0"
*.gnb20.x2App[0].client.connectAddress = "gnb1%x2ppp18"

*.gnb1.x2App[19].client.connectAddress = "gnb21%x2ppp0"
*.gnb21.x2App[0].client.connectAddress = "gnb1%x2ppp19"

*.gnb2.x2App[1].client.connectAddress = "gnb3%x2ppp1"
*.gnb3.x2App[1].client.connectAddress = "gnb2%x2ppp1"

*.gnb2.x2App[2].client.connectAddress = "gnb4%x2ppp1"
*.gnb4.x2App[1].client.connectAddress = "gnb2%x2ppp2"

*.gnb2.x2App[3].client.connectAddress = "gnb5%x2ppp1"
*.gnb5.x2App[1].client.connectAddress = "gnb2%x2ppp3"

*.gnb2.x2App[4].client.connectAddress = "gnb6%x2ppp1"
*.gnb6.x2App[1].client.connectAddress = "gnb2%x2ppp4"

*.gnb2.x2App[5].client.connectAddress = "gnb7%x2ppp1"
*.gnb7.x2App[1].client.connectAddress = "gnb2%x2ppp5"

*.gnb2.x2App[6].client.connectAddress = "gnb8%x2ppp1"
*.gnb8.x2App[1].client.connectAddress = "gnb2%x2ppp6"

*.gnb2.x2App[7].client.connectAddress = "gnb9%x2ppp1"
*.gnb9.x2App[1].client.connectAddress = "gnb2%x2ppp7"

*.gnb2.x2App[8].client.connectAddress = "gnb10%x2ppp1"
*.gnb10.x2App[1].client.connectAddress = "gnb2%x2ppp8"

*.gnb2.x2App[9].client.connectAddress = "gnb11%x2ppp1"
*.gnb11.x2App[1].client.connectAddress = "gnb2%x2ppp9"

*.gnb2.x2App[10].client.connectAddress = "gnb12%x2ppp1"
*.gnb12.x2App[1].client.connectAddress = "gnb2%x2ppp10"

*.gnb2.x2App[11].client.connectAddress = "gnb13%x2ppp1"
*.gnb13.x2App[1].client.connectAddress = "gnb2%x2ppp11"

*.gnb2.x2App[12].client.connectAddress = "gnb14%x2ppp1"
*.gnb14.x2App[1].client.connectAddress = "gnb2%x2ppp12"

*.gnb2.x2App[13].client.connectAddress = "gnb15%x2ppp1"
*.gnb15.x2App[1].client.connectAddress = "gnb2%x2ppp13"

*.gnb2.x2App[14].client.connectAddress = "gnb16%x2ppp1"
*.gnb16.x2App[1].client.connectAddress = "gnb2%x2ppp14"

*.gnb2.x2App[15].client.connectAddress = "gnb17%x2ppp1"
*.gnb17.x2App[1].client.connectAddress = "gnb2%x2ppp15"

*.gnb2.x2App[16].client.connectAddress = "gnb18%x2ppp1"
*.gnb18.x2App[1].client.connectAddress = "gnb2%x2ppp16"

*.gnb2.x2App[17].client.connectAddress = "gnb19%x2ppp1"
*.gnb19.x2App[1].client.connectAddress = "gnb2%x2ppp17"

*.gnb2.x2App[18].client.connectAddress = "gnb20%x2ppp1"
*.gnb20.x2App[1].client.connectAddress = "gnb2%x2ppp18"

*.gnb2.x2App[19].client.connectAddress = "gnb21%x2ppp1"
*.gnb21.x2App[1].client.connectAddress = "gnb2%x2ppp19"

*.gnb3.x2App[2].client.connectAddress = "gnb4%x2ppp2"
*.gnb4.x2App[2].client.connectAddress = "gnb3%x2ppp2"

*.gnb3.x2App[3].client.connectAddress = "gnb5%x2ppp2"
*.gnb5.x2App[2].client.connectAddress = "gnb3%x2ppp3"

*.gnb3.x2App[4].client.connectAddress = "gnb6%x2ppp2"
*.gnb6.x2App[2].client.connectAddress = "gnb3%x2ppp4"

*.gnb3.x2App[5].client.connectAddress = "gnb7%x2ppp2"
*.gnb7.x2App[2].client.connectAddress = "gnb3%x2ppp5"

*.gnb3.x2App[6].client.connectAddress = "gnb8%x2ppp2"
*.gnb8.x2App[2].client.connectAddress = "gnb3%x2ppp6"

*.gnb3.x2App[7].client.connectAddress = "gnb9%x2ppp2"
*.gnb9.x2App[2].client.connectAddress = "gnb3%x2ppp7"

*.gnb3.x2App[8].client.connectAddress = "gnb10%x2ppp2"
*.gnb10.x2App[2].client.connectAddress = "gnb3%x2ppp8"

*.gnb3.x2App[9].client.connectAddress = "gnb11%x2ppp2"
*.gnb11.x2App[2].client.connectAddress = "gnb3%x2ppp9"

*.gnb3.x2App[10].client.connectAddress = "gnb12%x2ppp2"
*.gnb12.x2App[2].client.connectAddress = "gnb3%x2ppp10"

*.gnb3.x2App[11].client.connectAddress = "gnb13%x2ppp2"
*.gnb13.x2App[2].client.connectAddress = "gnb3%x2ppp11"

*.gnb3.x2App[12].client.connectAddress = "gnb14%x2ppp2"
*.gnb14.x2App[2].client.connectAddress = "gnb3%x2ppp12"

*.gnb3.x2App[13].client.connectAddress = "gnb15%x2ppp2"
*.gnb15.x2App[2].client.connectAddress = "gnb3%x2ppp13"

*.gnb3.x2App[14].client.connectAddress = "gnb16%x2ppp2"
*.gnb16.x2App[2].client.connectAddress = "gnb3%x2ppp14"

*.gnb3.x2App[15].client.connectAddress = "gnb17%x2ppp2"
*.gnb17.x2App[2].client.connectAddress = "gnb3%x2ppp15"

*.gnb3.x2App[16].client.connectAddress = "gnb18%x2ppp2"
*.gnb18.x2App[2].client.connectAddress = "gnb3%x2ppp16"

*.gnb3.x2App[17].client.connectAddress = "gnb19%x2ppp2"
*.gnb19.x2App[2].client.connectAddress = "gnb3%x2ppp17"

*.gnb3.x2App[18].client.connectAddress = "gnb20%x2ppp2"
*.gnb20.x2App[2].client.connectAddress = "gnb3%x2ppp18"

*.gnb3.x2App[19].client.connectAddress = "gnb21%x2ppp2"
*.gnb21.x2App[2].client.connectAddress = "gnb3%x2ppp19"

*.gnb4.x2App[3].client.connectAddress = "gnb5%x2ppp3"
*.gnb5.x2App[3].client.connectAddress = "gnb4%x2ppp3"

*.gnb4.x2App[4].client.connectAddress = "gnb6%x2ppp3"
*.gnb6.x2App[3].client.connectAddress = "gnb4%x2ppp4"

*.gnb4.x2App[5].client.connectAddress = "gnb7%x2ppp3"
*.gnb7.x2App[3].client.connectAddress = "gnb4%x2ppp5"

*.gnb4.x2App[6].client.connectAddress = "gnb8%x2ppp3"
*.gnb8.x2App[3].client.connectAddress = "gnb4%x2ppp6"

*.gnb4.x2App[7].client.connectAddress = "gnb9%x2ppp3"
*.gnb9.x2App[3].client.connectAddress = "gnb4%x2ppp7"

*.gnb4.x2App[8].client.connectAddress = "gnb10%x2ppp3"
*.gnb10.x2App[3].client.connectAddress = "gnb4%x2ppp8"

*.gnb4.x2App[9].client.connectAddress = "gnb11%x2ppp3"
*.gnb11.x2App[3].client.connectAddress = "gnb4%x2ppp9"

*.gnb4.x2App[10].client.connectAddress = "gnb12%x2ppp3"
*.gnb12.x2App[3].client.connectAddress = "gnb4%x2ppp10"

*.gnb4.x2App[11].client.connectAddress = "gnb13%x2ppp3"
*.gnb13.x2App[3].client.connectAddress = "gnb4%x2ppp11"

*.gnb4.x2App[12].client.connectAddress = "gnb14%x2ppp3"
*.gnb14.x2App[3].client.connectAddress = "gnb4%x2ppp12"

*.gnb4.x2App[13].client.connectAddress = "gnb15%x2ppp3"
*.gnb15.x2App[3].client.connectAddress = "gnb4%x2ppp13"

*.gnb4.x2App[14].client.connectAddress = "gnb16%x2ppp3"
*.gnb16.x2App[3].client.connectAddress = "gnb4%x2ppp14"

*.gnb4.x2App[15].client.connectAddress = "gnb17%x2ppp3"
*.gnb17.x2App[3].client.connectAddress = "gnb4%x2ppp15"

*.gnb4.x2App[16].client.connectAddress = "gnb18%x2ppp3"
*.gnb18.x2App[3].client.connectAddress = "gnb4%x2ppp16"

*.gnb4.x2App[17].client.connectAddress = "gnb19%x2ppp3"
*.gnb19.x2App[3].client.connectAddress = "gnb4%x2ppp17"

*.gnb4.x2App[18].client.connectAddress = "gnb20%x2ppp3"
*.gnb20.x2App[3].client.connectAddress = "gnb4%x2ppp18"

*.gnb4.x2App[19].client.connectAddress = "gnb21%x2ppp3"
*.gnb21.x2App[3].client.connectAddress = "gnb4%x2ppp19"

*.gnb5.x2App[4].client.connectAddress = "gnb6%x2ppp4"
*.gnb6.x2App[4].client.connectAddress = "gnb5%x2ppp4"

*.gnb5.x2App[5].client.connectAddress = "gnb7%x2ppp4"
*.gnb7.x2App[4].client.connectAddress = "gnb5%x2ppp5"

*.gnb5.x2App[6].client.connectAddress = "gnb8%x2ppp4"
*.gnb8.x2App[4].client.connectAddress = "gnb5%x2ppp6"

*.gnb5.x2App[7].client.connectAddress = "gnb9%x2ppp4"
*.gnb9.x2App[4].client.connectAddress = "gnb5%x2ppp7"

*.gnb5.x2App[8].client.connectAddress = "gnb10%x2ppp4"
*.gnb10.x2App[4].client.connectAddress = "gnb5%x2ppp8"

*.gnb5.x2App[9].client.connectAddress = "gnb11%x2ppp4"
*.gnb11.x2App[4].client.connectAddress = "gnb5%x2ppp9"

*.gnb5.x2App[10].client.connectAddress = "gnb12%x2ppp4"
*.gnb12.x2App[4].client.connectAddress = "gnb5%x2ppp10"

*.gnb5.x2App[11].client.connectAddress = "gnb13%x2ppp4"
*.gnb13.x2App[4].client.connectAddress = "gnb5%x2ppp11"

*.gnb5.x2App[12].client.connectAddress = "gnb14%x2ppp4"
*.gnb14.x2App[4].client.connectAddress = "gnb5%x2ppp12"

*.gnb5.x2App[13].client.connectAddress = "gnb15%x2ppp4"
*.gnb15.x2App[4].client.connectAddress = "gnb5%x2ppp13"

*.gnb5.x2App[14].client.connectAddress = "gnb16%x2ppp4"
*.gnb16.x2App[4].client.connectAddress = "gnb5%x2ppp14"

*.gnb5.x2App[15].client.connectAddress = "gnb17%x2ppp4"
*.gnb17.x2App[4].client.connectAddress = "gnb5%x2ppp15"

*.gnb5.x2App[16].client.connectAddress = "gnb18%x2ppp4"
*.gnb18.x2App[4].client.connectAddress = "gnb5%x2ppp16"

*.gnb5.x2App[17].client.connectAddress = "gnb19%x2ppp4"
*.gnb19.x2App[4].client.connectAddress = "gnb5%x2ppp17"

*.gnb5.x2App[18].client.connectAddress = "gnb20%x2ppp4"
*.gnb20.x2App[4].client.connectAddress = "gnb5%x2ppp18"

*.gnb5.x2App[19].client.connectAddress = "gnb21%x2ppp4"
*.gnb21.x2App[4].client.connectAddress = "gnb5%x2ppp19"

*.gnb6.x2App[5].client.connectAddress = "gnb7%x2ppp5"
*.gnb7.x2App[5].client.connectAddress = "gnb6%x2ppp5"

*.gnb6.x2App[6].client.connectAddress = "gnb8%x2ppp5"
*.gnb8.x2App[5].client.connectAddress = "gnb6%x2ppp6"

*.gnb6.x2App[7].client.connectAddress = "gnb9%x2ppp5"
*.gnb9.x2App[5].client.connectAddress = "gnb6%x2ppp7"

*.gnb6.x2App[8].client.connectAddress = "gnb10%x2ppp5"
*.gnb10.x2App[5].client.connectAddress = "gnb6%x2ppp8"

*.gnb6.x2App[9].client.connectAddress = "gnb11%x2ppp5"
*.gnb11.x2App[5].client.connectAddress = "gnb6%x2ppp9"

*.gnb6.x2App[10].client.connectAddress = "gnb12%x2ppp5"
*.gnb12.x2App[5].client.connectAddress = "gnb6%x2ppp10"

*.gnb6.x2App[11].client.connectAddress = "gnb13%x2ppp5"
*.gnb13.x2App[5].client.connectAddress = "gnb6%x2ppp11"

*.gnb6.x2App[12].client.connectAddress = "gnb14%x2ppp5"
*.gnb14.x2App[5].client.connectAddress = "gnb6%x2ppp12"

*.gnb6.x2App[13].client.connectAddress = "gnb15%x2ppp5"
*.gnb15.x2App[5].client.connectAddress = "gnb6%x2ppp13"

*.gnb6.x2App[14].client.connectAddress = "gnb16%x2ppp5"
*.gnb16.x2App[5].client.connectAddress = "gnb6%x2ppp14"

*.gnb6.x2App[15].client.connectAddress = "gnb17%x2ppp5"
*.gnb17.x2App[5].client.connectAddress = "gnb6%x2ppp15"

*.gnb6.x2App[16].client.connectAddress = "gnb18%x2ppp5"
*.gnb18.x2App[5].client.connectAddress = "gnb6%x2ppp16"

*.gnb6.x2App[17].client.connectAddress = "gnb19%x2ppp5"
*.gnb19.x2App[5].client.connectAddress = "gnb6%x2ppp17"

*.gnb6.x2App[18].client.connectAddress = "gnb20%x2ppp5"
*.gnb20.x2App[5].client.connectAddress = "gnb6%x2ppp18"

*.gnb6.x2App[19].client.connectAddress = "gnb21%x2ppp5"
*.gnb21.x2App[5].client.connectAddress = "gnb6%x2ppp19"

*.gnb7.x2App[6].client.connectAddress = "gnb8%x2ppp6"
*.gnb8.x2App[6].client.connectAddress = "gnb7%x2ppp6"

*.gnb7.x2App[7].client.connectAddress = "gnb9%x2ppp6"
*.gnb9.x2App[6].client.connectAddress = "gnb7%x2ppp7"

*.gnb7.x2App[8].client.connectAddress = "gnb10%x2ppp6"
*.gnb10.x2App[6].client.connectAddress = "gnb7%x2ppp8"

*.gnb7.x2App[9].client.connectAddress = "gnb11%x2ppp6"
*.gnb11.x2App[6].client.connectAddress = "gnb7%x2ppp9"

*.gnb7.x2App[10].client.connectAddress = "gnb12%x2ppp6"
*.gnb12.x2App[6].client.connectAddress = "gnb7%x2ppp10"

*.gnb7.x2App[11].client.connectAddress = "gnb13%x2ppp6"
*.gnb13.x2App[6].client.connectAddress = "gnb7%x2ppp11"

*.gnb7.x2App[12].client.connectAddress = "gnb14%x2ppp6"
*.gnb14.x2App[6].client.connectAddress = "gnb7%x2ppp12"

*.gnb7.x2App[13].client.connectAddress = "gnb15%x2ppp6"
*.gnb15.x2App[6].client.connectAddress = "gnb7%x2ppp13"

*.gnb7.x2App[14].client.connectAddress = "gnb16%x2ppp6"
*.gnb16.x2App[6].client.connectAddress = "gnb7%x2ppp14"

*.gnb7.x2App[15].client.connectAddress = "gnb17%x2ppp6"
*.gnb17.x2App[6].client.connectAddress = "gnb7%x2ppp15"

*.gnb7.x2App[16].client.connectAddress = "gnb18%x2ppp6"
*.gnb18.x2App[6].client.connectAddress = "gnb7%x2ppp16"

*.gnb7.x2App[17].client.connectAddress = "gnb19%x2ppp6"
*.gnb19.x2App[6].client.connectAddress = "gnb7%x2ppp17"

*.gnb7.x2App[18].client.connectAddress = "gnb20%x2ppp6"
*.gnb20.x2App[6].client.connectAddress = "gnb7%x2ppp18"

*.gnb7.x2App[19].client.connectAddress = "gnb21%x2ppp6"
*.gnb21.x2App[6].client.connectAddress = "gnb7%x2ppp19"

*.gnb8.x2App[7].client.connectAddress = "gnb9%x2ppp7"
*.gnb9.x2App[7].client.connectAddress = "gnb8%x2ppp7"

*.gnb8.x2App[8].client.connectAddress = "gnb10%x2ppp7"
*.gnb10.x2App[7].client.connectAddress = "gnb8%x2ppp8"

*.gnb8.x2App[9].client.connectAddress = "gnb11%x2ppp7"
*.gnb11.x2App[7].client.connectAddress = "gnb8%x2ppp9"

*.gnb8.x2App[10].client.connectAddress = "gnb12%x2ppp7"
*.gnb12.x2App[7].client.connectAddress = "gnb8%x2ppp10"

*.gnb8.x2App[11].client.connectAddress = "gnb13%x2ppp7"
*.gnb13.x2App[7].client.connectAddress = "gnb8%x2ppp11"

*.gnb8.x2App[12].client.connectAddress = "gnb14%x2ppp7"
*.gnb14.x2App[7].client.connectAddress = "gnb8%x2ppp12"

*.gnb8.x2App[13].client.connectAddress = "gnb15%x2ppp7"
*.gnb15.x2App[7].client.connectAddress = "gnb8%x2ppp13"

*.gnb8.x2App[14].client.connectAddress = "gnb16%x2ppp7"
*.gnb16.x2App[7].client.connectAddress = "gnb8%x2ppp14"

*.gnb8.x2App[15].client.connectAddress = "gnb17%x2ppp7"
*.gnb17.x2App[7].client.connectAddress = "gnb8%x2ppp15"

*.gnb8.x2App[16].client.connectAddress = "gnb18%x2ppp7"
*.gnb18.x2App[7].client.connectAddress = "gnb8%x2ppp16"

*.gnb8.x2App[17].client.connectAddress = "gnb19%x2ppp7"
*.gnb19.x2App[7].client.connectAddress = "gnb8%x2ppp17"

*.gnb8.x2App[18].client.connectAddress = "gnb20%x2ppp7"
*.gnb20.x2App[7].client.connectAddress = "gnb8%x2ppp18"

*.gnb8.x2App[19].client.connectAddress = "gnb21%x2ppp7"
*.gnb21.x2App[7].client.connectAddress = "gnb8%x2ppp19"

*.gnb9.x2App[8].client.connectAddress = "gnb10%x2ppp8"
*.gnb10.x2App[8].client.connectAddress = "gnb9%x2ppp8"

*.gnb9.x2App[9].client.connectAddress = "gnb11%x2ppp8"
*.gnb11.x2App[8].client.connectAddress = "gnb9%x2ppp9"

*.gnb9.x2App[10].client.connectAddress = "gnb12%x2ppp8"
*.gnb12.x2App[8].client.connectAddress = "gnb9%x2ppp10"

*.gnb9.x2App[11].client.connectAddress = "gnb13%x2ppp8"
*.gnb13.x2App[8].client.connectAddress = "gnb9%x2ppp11"

*.gnb9.x2App[12].client.connectAddress = "gnb14%x2ppp8"
*.gnb14.x2App[8].client.connectAddress = "gnb9%x2ppp12"

*.gnb9.x2App[13].client.connectAddress = "gnb15%x2ppp8"
*.gnb15.x2App[8].client.connectAddress = "gnb9%x2ppp13"

*.gnb9.x2App[14].client.connectAddress = "gnb16%x2ppp8"
*.gnb16.x2App[8].client.connectAddress = "gnb9%x2ppp14"

*.gnb9.x2App[15].client.connectAddress = "gnb17%x2ppp8"
*.gnb17.x2App[8].client.connectAddress = "gnb9%x2ppp15"

*.gnb9.x2App[16].client.connectAddress = "gnb18%x2ppp8"
*.gnb18.x2App[8].client.connectAddress = "gnb9%x2ppp16"

*.gnb9.x2App[17].client.connectAddress = "gnb19%x2ppp8"
*.gnb19.x2App[8].client.connectAddress = "gnb9%x2ppp17"

*.gnb9.x2App[18].client.connectAddress = "gnb20%x2ppp8"
*.gnb20.x2App[8].client.connectAddress = "gnb9%x2ppp18"

*.gnb9.x2App[19].client.connectAddress = "gnb21%x2ppp8"
*.gnb21.x2App[8].client.connectAddress = "gnb9%x2ppp19"

*.gnb10.x2App[9].client.connectAddress = "gnb11%x2ppp9"
*.gnb11.x2App[9].client.connectAddress = "gnb10%x2ppp9"

*.gnb10.x2App[10].client.connectAddress = "gnb12%x2ppp9"
*.gnb12.x2App[9].client.connectAddress = "gnb10%x2ppp10"

*.gnb10.x2App[11].client.connectAddress = "gnb13%x2ppp9"
*.gnb13.x2App[9].client.connectAddress = "gnb10%x2ppp11"

*.gnb10.x2App[12].client.connectAddress = "gnb14%x2ppp9"
*.gnb14.x2App[9].client.connectAddress = "gnb10%x2ppp12"

*.gnb10.x2App[13].client.connectAddress = "gnb15%x2ppp9"
*.gnb15.x2App[9].client.connectAddress = "gnb10%x2ppp13"

*.gnb10.x2App[14].client.connectAddress = "gnb16%x2ppp9"
*.gnb16.x2App[9].client.connectAddress = "gnb10%x2ppp14"

*.gnb10.x2App[15].client.connectAddress = "gnb17%x2ppp9"
*.gnb17.x2App[9].client.connectAddress = "gnb10%x2ppp15"

*.gnb10.x2App[16].client.connectAddress = "gnb18%x2ppp9"
*.gnb18.x2App[9].client.connectAddress = "gnb10%x2ppp16"

*.gnb10.x2App[17].client.connectAddress = "gnb19%x2ppp9"
*.gnb19.x2App[9].client.connectAddress = "gnb10%x2ppp17"

*.gnb10.x2App[18].client.connectAddress = "gnb20%x2ppp9"
*.gnb20.x2App[9].client.connectAddress = "gnb10%x2ppp18"

*.gnb10.x2App[19].client.connectAddress = "gnb21%x2ppp9"
*.gnb21.x2App[9].client.connectAddress = "gnb10%x2ppp19"

*.gnb11.x2App[10].client.connectAddress = "gnb12%x2ppp10"
*.gnb12.x2App[10].client.connectAddress = "gnb11%x2ppp10"

*.gnb11.x2App[11].client.connectAddress = "gnb13%x2ppp10"
*.gnb13.x2App[10].client.connectAddress = "gnb11%x2ppp11"

*.gnb11.x2App[12].client.connectAddress = "gnb14%x2ppp10"
*.gnb14.x2App[10].client.connectAddress = "gnb11%x2ppp12"

*.gnb11.x2App[13].client.connectAddress = "gnb15%x2ppp10"
*.gnb15.x2App[10].client.connectAddress = "gnb11%x2ppp13"

*.gnb11.x2App[14].client.connectAddress = "gnb16%x2ppp10"
*.gnb16.x2App[10].client.connectAddress = "gnb11%x2ppp14"

*.gnb11.x2App[15].client.connectAddress = "gnb17%x2ppp10"
*.gnb17.x2App[10].client.connectAddress = "gnb11%x2ppp15"

*.gnb11.x2App[16].client.connectAddress = "gnb18%x2ppp10"
*.gnb18.x2App[10].client.connectAddress = "gnb11%x2ppp16"

*.gnb11.x2App[17].client.connectAddress = "gnb19%x2ppp10"
*.gnb19.x2App[10].client.connectAddress = "gnb11%x2ppp17"

*.gnb11.x2App[18].client.connectAddress = "gnb20%x2ppp10"
*.gnb20.x2App[10].client.connectAddress = "gnb11%x2ppp18"

*.gnb11.x2App[19].client.connectAddress = "gnb21%x2ppp10"
*.gnb21.x2App[10].client.connectAddress = "gnb11%x2ppp19"

*.gnb12.x2App[11].client.connectAddress = "gnb13%x2ppp11"
*.gnb13.x2App[11].client.connectAddress = "gnb12%x2ppp11"

*.gnb12.x2App[12].client.connectAddress = "gnb14%x2ppp11"
*.gnb14.x2App[11].client.connectAddress = "gnb12%x2ppp12"

*.gnb12.x2App[13].client.connectAddress = "gnb15%x2ppp11"
*.gnb15.x2App[11].client.connectAddress = "gnb12%x2ppp13"

*.gnb12.x2App[14].client.connectAddress = "gnb16%x2ppp11"
*.gnb16.x2App[11].client.connectAddress = "gnb12%x2ppp14"

*.gnb12.x2App[15].client.connectAddress = "gnb17%x2ppp11"
*.gnb17.x2App[11].client.connectAddress = "gnb12%x2ppp15"

*.gnb12.x2App[16].client.connectAddress = "gnb18%x2ppp11"
*.gnb18.x2App[11].client.connectAddress = "gnb12%x2ppp16"

*.gnb12.x2App[17].client.connectAddress = "gnb19%x2ppp11"
*.gnb19.x2App[11].client.connectAddress = "gnb12%x2ppp17"

*.gnb12.x2App[18].client.connectAddress = "gnb20%x2ppp11"
*.gnb20.x2App[11].client.connectAddress = "gnb12%x2ppp18"

*.gnb12.x2App[19].client.connectAddress = "gnb21%x2ppp11"
*.gnb21.x2App[11].client.connectAddress = "gnb12%x2ppp19"

*.gnb13.x2App[12].client.connectAddress = "gnb14%x2ppp12"
*.gnb14.x2App[12].client.connectAddress = "gnb13%x2ppp12"

*.gnb13.x2App[13].client.connectAddress = "gnb15%x2ppp12"
*.gnb15.x2App[12].client.connectAddress = "gnb13%x2ppp13"

*.gnb13.x2App[14].client.connectAddress = "gnb16%x2ppp12"
*.gnb16.x2App[12].client.connectAddress = "gnb13%x2ppp14"

*.gnb13.x2App[15].client.connectAddress = "gnb17%x2ppp12"
*.gnb17.x2App[12].client.connectAddress = "gnb13%x2ppp15"

*.gnb13.x2App[16].client.connectAddress = "gnb18%x2ppp12"
*.gnb18.x2App[12].client.connectAddress = "gnb13%x2ppp16"

*.gnb13.x2App[17].client.connectAddress = "gnb19%x2ppp12"
*.gnb19.x2App[12].client.connectAddress = "gnb13%x2ppp17"

*.gnb13.x2App[18].client.connectAddress = "gnb20%x2ppp12"
*.gnb20.x2App[12].client.connectAddress = "gnb13%x2ppp18"

*.gnb13.x2App[19].client.connectAddress = "gnb21%x2ppp12"
*.gnb21.x2App[12].client.connectAddress = "gnb13%x2ppp19"

*.gnb14.x2App[13].client.connectAddress = "gnb15%x2ppp13"
*.gnb15.x2App[13].client.connectAddress = "gnb14%x2ppp13"

*.gnb14.x2App[14].client.connectAddress = "gnb16%x2ppp13"
*.gnb16.x2App[13].client.connectAddress = "gnb14%x2ppp14"

*.gnb14.x2App[15].client.connectAddress = "gnb17%x2ppp13"
*.gnb17.x2App[13].client.connectAddress = "gnb14%x2ppp15"

*.gnb14.x2App[16].client.connectAddress = "gnb18%x2ppp13"
*.gnb18.x2App[13].client.connectAddress = "gnb14%x2ppp16"

*.gnb14.x2App[17].client.connectAddress = "gnb19%x2ppp13"
*.gnb19.x2App[13].client.connectAddress = "gnb14%x2ppp17"

*.gnb14.x2App[18].client.connectAddress = "gnb20%x2ppp13"
*.gnb20.x2App[13].client.connectAddress = "gnb14%x2ppp18"

*.gnb14.x2App[19].client.connectAddress = "gnb21%x2ppp13"
*.gnb21.x2App[13].client.connectAddress = "gnb14%x2ppp19"

*.gnb15.x2App[14].client.connectAddress = "gnb16%x2ppp14"
*.gnb16.x2App[14].client.connectAddress = "gnb15%x2ppp14"

*.gnb15.x2App[15].client.connectAddress = "gnb17%x2ppp14"
*.gnb17.x2App[14].client.connectAddress = "gnb15%x2ppp15"

*.gnb15.x2App[16].client.connectAddress = "gnb18%x2ppp14"
*.gnb18.x2App[14].client.connectAddress = "gnb15%x2ppp16"

*.gnb15.x2App[17].client.connectAddress = "gnb19%x2ppp14"
*.gnb19.x2App[14].client.connectAddress = "gnb15%x2ppp17"

*.gnb15.x2App[18].client.connectAddress = "gnb20%x2ppp14"
*.gnb20.x2App[14].client.connectAddress = "gnb15%x2ppp18"

*.gnb15.x2App[19].client.connectAddress = "gnb21%x2ppp14"
*.gnb21.x2App[14].client.connectAddress = "gnb15%x2ppp19"

*.gnb16.x2App[15].client.connectAddress = "gnb17%x2ppp15"
*.gnb17.x2App[15].client.connectAddress = "gnb16%x2ppp15"

*.gnb16.x2App[16].client.connectAddress = "gnb18%x2ppp15"
*.gnb18.x2App[15].client.connectAddress = "gnb16%x2ppp16"

*.gnb16.x2App[17].client.connectAddress = "gnb19%x2ppp15"
*.gnb19.x2App[15].client.connectAddress = "gnb16%x2ppp17"

*.gnb16.x2App[18].client.connectAddress = "gnb20%x2ppp15"
*.gnb20.x2App[15].client.connectAddress = "gnb16%x2ppp18"

*.gnb16.x2App[19].client.connectAddress = "gnb21%x2ppp15"
*.gnb21.x2App[15].client.connectAddress = "gnb16%x2ppp19"

*.gnb17.x2App[16].client.connectAddress = "gnb18%x2ppp16"
*.gnb18.x2App[16].client.connectAddress = "gnb17%x2ppp16"

*.gnb17.x2App[17].client.connectAddress = "gnb19%x2ppp16"
*.gnb19.x2App[16].client.connectAddress = "gnb17%x2ppp17"

*.gnb17.x2App[18].client.connectAddress = "gnb20%x2ppp16"
*.gnb20.x2App[16].client.connectAddress = "gnb17%x2ppp18"

*.gnb17.x2App[19].client.connectAddress = "gnb21%x2ppp16"
*.gnb21.x2App[16].client.connectAddress = "gnb17%x2ppp19"

*.gnb18.x2App[17].client.connectAddress = "gnb19%x2ppp17"
*.gnb19.x2App[17].client.connectAddress = "gnb18%x2ppp17"

*.gnb18.x2App[18].client.connectAddress = "gnb20%x2ppp17"
*.gnb20.x2App[17].client.connectAddress = "gnb18%x2ppp18"

*.gnb18.x2App[19].client.connectAddress = "gnb21%x2ppp17"
*.gnb21.x2App[17].client.connectAddress = "gnb18%x2ppp19"

*.gnb19.x2App[18].client.connectAddress = "gnb20%x2ppp18"
*.gnb20.x2App[18].client.connectAddress = "gnb19%x2ppp18"

*.gnb19.x2App[19].client.connectAddress = "gnb21%x2ppp18"
*.gnb21.x2App[18].client.connectAddress = "gnb19%x2ppp19"

*.gnb20.x2App[19].client.connectAddress = "gnb21%x2ppp19"
*.gnb21.x2App[19].client.connectAddress = "gnb20%x2ppp19"


########## Background cells configuration ############# 
*.numBgCells = 36
#*.numBgCells = 18

*.bgCell[*].bgScheduler.carrierFrequency = 4GHz
*.bgCell[*].bgScheduler.isNr = true 
*.bgCell[*].bgScheduler.txPower = 41

*.bgCell[*].bgScheduler.numerologyIndex = 0
*.bgCell[*].bgScheduler.numBands = 50
*.bgCell[*].bgChannelModel.antennGainEnB = 8
 

*.bgCell[*].bgScheduler.txDirection = "ANISOTROPIC"
#### first row
*.bgCell[0].mobility.initialX = 2732m
*.bgCell[0].mobility.initialY = 1000m
*.bgCell[1].mobility.initialX = 2732m
*.bgCell[1].mobility.initialY = 1000m
*.bgCell[2].mobility.initialX = 2732m
*.bgCell[2].mobility.initialY = 1000m

*.bgCell[3].mobility.initialX = 4464m
*.bgCell[3].mobility.initialY = 1000m
*.bgCell[4].mobility.initialX = 4464m
*.bgCell[4].mobility.initialY = 1000m
*.bgCell[5].mobility.initialX = 4464m
*.bgCell[5].mobility.initialY = 1000m

*.bgCell[6].mobility.initialX = 6196m
*.bgCell[6].mobility.initialY = 1000m
*.bgCell[7].mobility.initialX = 6196m
*.bgCell[7].mobility.initialY = 1000m
*.bgCell[8].mobility.initialX = 6196m
*.bgCell[8].mobility.initialY = 1000m

*.bgCell[9].mobility.initialX = 1866m
*.bgCell[9].mobility.initialY = 2494m
*.bgCell[10].mobility.initialX = 1866m
*.bgCell[10].mobility.initialY = 2494m
*.bgCell[11].mobility.initialX = 1866m
*.bgCell[11].mobility.initialY = 2494m

*.bgCell[12].mobility.initialX = 7062m
*.bgCell[12].mobility.initialY = 2494m
*.bgCell[13].mobility.initialX = 7062m
*.bgCell[13].mobility.initialY = 2494m
*.bgCell[14].mobility.initialX = 7062m
*.bgCell[14].mobility.initialY = 2494m

*.bgCell[15].mobility.initialX = 1000m
*.bgCell[15].mobility.initialY = 3988m
*.bgCell[16].mobility.initialX = 1000m
*.bgCell[16].mobility.initialY = 3988m
*.bgCell[17].mobility.initialX = 1000m
*.bgCell[17].mobility.initialY = 3988m

*.bgCell[18].mobility.initialX = 7928m
*.bgCell[18].mobility.initialY = 3988m
*.bgCell[19].mobility.initialX = 7928m
*.bgCell[19].mobility.initialY = 3988m
*.bgCell[20].mobility.initialX = 7928m
*.bgCell[20].mobility.initialY = 3988m

*.bgCell[21].mobility.initialX = 1866m
*.bgCell[21].mobility.initialY = 5482m
*.bgCell[22].mobility.initialX = 1866m
*.bgCell[22].mobility.initialY = 5482m
*.bgCell[23].mobility.initialX = 1866m
*.bgCell[23].mobility.initialY = 5482m

*.bgCell[24].mobility.initialX = 7062m
*.bgCell[24].mobility.initialY = 5482m
*.bgCell[25].mobility.initialX = 7062m
*.bgCell[25].mobility.initialY = 5482m
*.bgCell[26].mobility.initialX = 7062m
*.bgCell[26].mobility.initialY = 5482m

*.bgCell[27].mobility.initialX = 2732m
*.bgCell[27].mobility.initialY = 6976m
*.bgCell[28].mobility.initialX = 2732m
*.bgCell[28].mobility.initialY = 6976m
*.bgCell[29].mobility.initialX = 2732m
*.bgCell[29].mobility.initialY = 6976m

*.bgCell[30].mobility.initialX = 4464m
*.bgCell[30].mobility.initialY = 6976m
*.bgCell[31].mobility.initialX = 4464m
*.bgCell[31].mobility.initialY = 6976m
*.bgCell[32].mobility.initialX = 4464m
*.bgCell[32].mobility.initialY = 6976m

*.bgCell[33].mobility.initialX = 6196m
*.bgCell[33].mobility.initialY = 6976m
*.bgCell[34].mobility.initialX = 6196m
*.bgCell[34].mobility.initialY = 6976m
*.bgCell[35].mobility.initialX = 6196m
*.bgCell[35].mobility.initialY = 6976m

#*.bgCell[17].mobility.initialX = 600m 
#*.bgCell[17].mobility.initialY = 792m 

*.bgCell[0].bgScheduler.txAngle = 30
*.bgCell[1].bgScheduler.txAngle = 150
*.bgCell[2].bgScheduler.txAngle = 270

*.bgCell[3].bgScheduler.txAngle = 30
*.bgCell[4].bgScheduler.txAngle = 150
*.bgCell[5].bgScheduler.txAngle = 270

*.bgCell[6].bgScheduler.txAngle = 30
*.bgCell[7].bgScheduler.txAngle = 150
*.bgCell[8].bgScheduler.txAngle = 270

*.bgCell[9].bgScheduler.txAngle = 30
*.bgCell[10].bgScheduler.txAngle = 150
*.bgCell[11].bgScheduler.txAngle = 270

*.bgCell[12].bgScheduler.txAngle = 30
*.bgCell[13].bgScheduler.txAngle = 150
*.bgCell[14].bgScheduler.txAngle = 270

*.bgCell[15].bgScheduler.txAngle = 30
*.bgCell[16].bgScheduler.txAngle = 150
*.bgCell[17].bgScheduler.txAngle = 270

*.bgCell[18].bgScheduler.txAngle = 30
*.bgCell[19].bgScheduler.txAngle = 150
*.bgCell[20].bgScheduler.txAngle = 270

*.bgCell[21].bgScheduler.txAngle = 30
*.bgCell[22].bgScheduler.txAngle = 150
*.bgCell[23].bgScheduler.txAngle = 270

*.bgCell[24].bgScheduler.txAngle = 30
*.bgCell[25].bgScheduler.txAngle = 150
*.bgCell[26].bgScheduler.txAngle = 270

*.bgCell[27].bgScheduler.txAngle = 30
*.bgCell[28].bgScheduler.txAngle = 150
*.bgCell[29].bgScheduler.txAngle = 270

*.bgCell[30].bgScheduler.txAngle = 30
*.bgCell[31].bgScheduler.txAngle = 150
*.bgCell[32].bgScheduler.txAngle = 270

*.bgCell[33].bgScheduler.txAngle = 30
*.bgCell[34].bgScheduler.txAngle = 150
*.bgCell[35].bgScheduler.txAngle = 270

# number and position of background UEs in the background cells 
*.bgCell[*].bgTrafficGenerator.numBgUes = 570
#*.bgCell[*].bgTrafficGenerator.numBgUes = 0

*.bgCell[*].bgTrafficGenerator.computeAvgInterference = true
**.bgDist = ${bgUserdistance=500m}


#*.bgCell[*].bgTrafficGenerator.bgUE[*].mobility.initialX = uniform(2000m,7000m)  
#*.bgCell[*].bgTrafficGenerator.bgUE[*].mobility.initialY = uniform(1000m,7000m)  

*.bgCell[*].bgTrafficGenerator.bgUE[{0..29}].mobility.initialX = uniform(2732m-${bgUserdistance},2732m+${bgUserdistance})
*.bgCell[*].bgTrafficGenerator.bgUE[{0..29}].mobility.initialY = uniform(1000m-${bgUserdistance},1000m+${bgUserdistance})

*.bgCell[*].bgTrafficGenerator.bgUE[{30..59}].mobility.initialX = uniform(4464m-${bgUserdistance},4464m+${bgUserdistance})
*.bgCell[*].bgTrafficGenerator.bgUE[{30..59}].mobility.initialY = uniform(1000m-${bgUserdistance},1000m+${bgUserdistance})

*.bgCell[*].bgTrafficGenerator.bgUE[{60..89}].mobility.initialX = uniform(6196m-${bgUserdistance},6196m+${bgUserdistance})
*.bgCell[*].bgTrafficGenerator.bgUE[{60..89}].mobility.initialY = uniform(1000m-${bgUserdistance},1000m+${bgUserdistance})

*.bgCell[*].bgTrafficGenerator.bgUE[{90..119}].mobility.initialX = uniform(1866m-${bgUserdistance},1866m+${bgUserdistance})
*.bgCell[*].bgTrafficGenerator.bgUE[{90..119}].mobility.initialY = uniform(2494m-${bgUserdistance},2494m+${bgUserdistance})

*.bgCell[*].bgTrafficGenerator.bgUE[{120..149}].mobility.initialX = uniform(7062m-${bgUserdistance},7062m+${bgUserdistance})
*.bgCell[*].bgTrafficGenerator.bgUE[{120..149}].mobility.initialY = uniform(2494m-${bgUserdistance},2494m+${bgUserdistance})

*.bgCell[*].bgTrafficGenerator.bgUE[{150..179}].mobility.initialX = uniform(1000m-${bgUserdistance},1000m+${bgUserdistance})
*.bgCell[*].bgTrafficGenerator.bgUE[{150..179}].mobility.initialY = uniform(3988m-${bgUserdistance},3988m+${bgUserdistance})

*.bgCell[*].bgTrafficGenerator.bgUE[{180..209}].mobility.initialX = uniform(7928m-${bgUserdistance},7928m+${bgUserdistance})
*.bgCell[*].bgTrafficGenerator.bgUE[{180..209}].mobility.initialY = uniform(3988m-${bgUserdistance},3988m+${bgUserdistance})

*.bgCell[*].bgTrafficGenerator.bgUE[{210..239}].mobility.initialX = uniform(1866m-${bgUserdistance},1866m+${bgUserdistance})
*.bgCell[*].bgTrafficGenerator.bgUE[{210..239}].mobility.initialY = uniform(5482m-${bgUserdistance},5482m+${bgUserdistance})

*.bgCell[*].bgTrafficGenerator.bgUE[{240..269}].mobility.initialX = uniform(7062m-${bgUserdistance},7062m+${bgUserdistance})
*.bgCell[*].bgTrafficGenerator.bgUE[{240..269}].mobility.initialY = uniform(5482m-${bgUserdistance},5482m+${bgUserdistance})

*.bgCell[*].bgTrafficGenerator.bgUE[{270..299}].mobility.initialX = uniform(2732m-${bgUserdistance},2732m+${bgUserdistance})
*.bgCell[*].bgTrafficGenerator.bgUE[{270..299}].mobility.initialY = uniform(6976m-${bgUserdistance},6976m+${bgUserdistance})

*.bgCell[*].bgTrafficGenerator.bgUE[{300..329}].mobility.initialX = uniform(4464m-${bgUserdistance},4464m+${bgUserdistance})
*.bgCell[*].bgTrafficGenerator.bgUE[{300..329}].mobility.initialY = uniform(6976m-${bgUserdistance},6976m+${bgUserdistance})

*.bgCell[*].bgTrafficGenerator.bgUE[{330..359}].mobility.initialX = uniform(6196m-${bgUserdistance},6196m+${bgUserdistance})
*.bgCell[*].bgTrafficGenerator.bgUE[{330..359}].mobility.initialY = uniform(6976m-${bgUserdistance},6976m+${bgUserdistance})                



*.bgCell[*].bgTrafficGenerator.bgUE[*].mobility.initialX = uniform(200m,600m)
*.bgCell[*].bgTrafficGenerator.bgUE[*].mobility.initialY = uniform(200m,700m)
*.bgCell[*].bgTrafficGenerator.bgUE[*].mobility.typename = "RandomWaypointMobility"
*.bgCell[*].bgTrafficGenerator.bgUE[*].mobility.speed = 8.333mps

# Background traffic in the background cells
*.bgCell[*].bgTrafficGenerator.bgUE[*].trafficGeneratorType = "TrafficGeneratorCbr" 
*.bgCell[*].bgTrafficGenerator.bgUE[*].generator.startTimeDl = uniform(0s,0.05s) 
*.bgCell[*].bgTrafficGenerator.bgUE[*].generator.finishTimeDl = uniform(199.9s,199.92s)
#*.bgCell[*].bgTrafficGenerator.bgUE[*].generator.packetSizeDl = 1000B 
#*.bgCell[*].bgTrafficGenerator.bgUE[*].generator.periodDl = 0.004s 
*.bgCell[*].bgTrafficGenerator.bgUE[*].generator.packetSizeDl = 1B 
*.bgCell[*].bgTrafficGenerator.bgUE[*].generator.periodDl = 1s 

############## UE configuration ##################
#*.numUe = ${numUEs=10,30,210}
*.numUe = ${numUEs=210}

**.dist = ${UEdistance=150m}


# UEs associates to the best BS at the beginning of the simulation
*.ue[*].macCellId = 0
*.ue[*].masterId = 0
*.ue[*].nrMacCellId = 1
*.ue[*].nrMasterId = 1
**.dynamicCellAssociation = true
**.enableHandover = true
**.hysteresisFactor = 0
**.hysteresis = 0
#**.losslessHandover = false


############ UEs position #################  
#gnb10 position 400,446
*.ue[*].mobility.typename = "RandomWaypointMobility"
#*.ue[*].mobility.initialX = uniform(320m,480m)
#*.ue[*].mobility.initialY = uniform(366m,526m)

#*.ue[*].mobility.initialX = uniform(150m,650m)
#*.ue[*].mobility.initialY = uniform(196m,696m)
#*.ue[*].mobility.initialX = uniform(${minx=10m,20m},${maxx=30m,510m})

#*.ue[*].mobility.initialX = uniform(300m-${UEdistance},300m+${UEdistance})
#*.ue[*].mobility.initialY = uniform(196m,696m)


*.ue[{0..29}].mobility.initialX = uniform(3598m-${UEdistance},3598m+${UEdistance})
*.ue[{0..29}].mobility.initialY = uniform(2494m-${UEdistance},2494m+${UEdistance})

*.ue[{30..59}].mobility.initialX = uniform(5330m-${UEdistance},5330m+${UEdistance})
*.ue[{30..59}].mobility.initialY = uniform(2494m-${UEdistance},2494m+${UEdistance})

*.ue[{60..89}].mobility.initialX = uniform(2732m-${UEdistance},2732m+${UEdistance})
*.ue[{60..89}].mobility.initialY = uniform(3988m-${UEdistance},3988m+${UEdistance})

*.ue[{90..119}].mobility.initialX = uniform(4464m-${UEdistance},4464m+${UEdistance})
*.ue[{90..119}].mobility.initialY = uniform(3988m-${UEdistance},3988m+${UEdistance})

*.ue[{120..149}].mobility.initialX = uniform(6196m-${UEdistance},6196m+${UEdistance})
*.ue[{120..149}].mobility.initialY = uniform(3988m-${UEdistance},3988m+${UEdistance})

*.ue[{150..179}].mobility.initialX = uniform(3598m-${UEdistance},3598m+${UEdistance})
*.ue[{150..179}].mobility.initialY = uniform(5482m-${UEdistance},5482m+${UEdistance})

*.ue[{180..209}].mobility.initialX = uniform(5330m-${UEdistance},5330m+${UEdistance})
*.ue[{180..209}].mobility.initialY = uniform(5482m-${UEdistance},5482m+${UEdistance})

#*.ue[*].mobility.initialY = uniform(766m,1566m)
#*.ue[*].mobility.initialY = uniform(100m,300m)

#*.ue[*].mobility.speed = uniform(3mps,13.89mps)
*.ue[{0..104}].mobility.speed = 0.8333mps
*.ue[{105..209}].mobility.speed = 33.3333mps


*.ue[{0..104}].cellularNic.channelModel[*].inside_building = true
*.ue[{0..104}].cellularNic.nrChannelModel[*].inside_building = true
#*.ue[{0..5}].cellularNic.channelModel[*].inside_building = false
#*.ue[{0..5}].cellularNic.nrChannelModel[*].inside_building = false


*.ue[*].cellularNic.channelModel[*].inside_building = false
*.ue[*].cellularNic.nrChannelModel[*].inside_building = false

*.ue[*].cellularNic.nrChannelModel[*].useBuildingPenetrationHighLossModel = false



#**.ue_height = 3 * uniform(1,uniform(4,8))+ 1.5
#*.ue[{0..5}].cellularNic.channelModel[*].ue_height = 1.5
#*.ue[{0..5}].cellularNic.nrChannelModel[*].ue_height =  1.5


#*.ue[{0..168}].cellularNic.channelModel[*].ue_height = 3 * (uniform(1,uniform(4,8))-1)+ 1.5
#*.ue[{0..168}].cellularNic.nrChannelModel[*].ue_height = 3 * (uniform(1,uniform(4,8))-1)+ 1.5
**.ue_height = 1.5
 
#------------------------------------#

#------------------------------------#
# Config CBR-DL
#
# Configuration with CBR DL traffic from a remote server to the UEs
# 
[Config CBR-DL]
extends = MultiCell
description = "CBR DL traffic from remote server to UEs"

# one UDP application for each user
*.ue[*].numApps = 1

# the amount of UDP applications on server should be equal to (numUEs)*(ue[*].numApps) 
*.server.numApps = ${numUEs}

#============= Application Setup =============
*.ue[*].app[*].typename = "CbrReceiver"
*.ue[*].app[*].localPort = 3000

*.server.app[*].typename = "CbrSender"
#*.server.app[*].PacketSize = ${packetSize=100,550,1000} # 30 
#*.server.app[*].sampling_time = ${samplingTime=1s,0.01s,0.005s}#1s 
*.server.app[*].PacketSize = 1 # 30 
*.server.app[*].sampling_time = 1s#1s 

*.server.app[*].destAddress = "ue[" + string(ancestorIndex(0)) + "]"
*.server.app[*].destPort = 3000 
*.server.app[*].localPort = 3088+ancestorIndex(0) 
*.server.app[*].startTime = uniform(0s,0.02s)
*.server.app[*].finishTime = uniform(199.9s,199.92s)

#------------------------------------#



#------------------------------------#
# Config CBR-UL
#
# Configuration with CBR UL traffic from the UEs to a remote server
# 
[Config CBR-UL]
extends=MultiCell
description = "CBR UL traffic from UEs to remote server"

# one UDP application for each user
*.ue[*].numApps = 1

# the amount of UDP applications on server should be equal to (numUEs)*(ue[*].numApps) 
*.server.numApps = ${numUEs}

#============= Application Setup =============
*.server.app[*].typename = "CbrReceiver"
*.server.app[*].localPort = 3000 + ancestorIndex(0)

*.ue[*].app[*].typename = "CbrSender"
*.ue[*].app[*].PacketSize = 100
*.ue[*].app[*].sampling_time = 0.02s
*.ue[*].app[*].destAddress = "server" 
*.ue[*].app[*].destPort = 3000 + ancestorIndex(1) 
*.ue[*].app[*].localPort = 3088+ancestorIndex(0)
*.ue[*].app[*].startTime = uniform(0s,0.02s)
*.ue[*].app[*].finishTime = uniform(99.9s,99.92s)
#------------------------------------#


########## Background cells configuration ############# 
#*.numBgCells = 10

#*.bgCell[*].bgScheduler.carrierFrequency = 700MHz
#*.bgCell[*].bgScheduler.isNr = true 
#*.bgCell[*].bgScheduler.txPower = 30
#*.bgCell[*].bgScheduler.txDirection = "OMNI"
#*.bgCell[*].bgScheduler.txAngle = 0
#*.bgCell[*].bgScheduler.numerologyIndex = 0
#*.bgCell[*].bgScheduler.numBands = 6
#*.bgCell[*].bgChannelModel.antennGainEnB = 18
 
# position of the background gNodeB 
#*.bgCell[*].mobility.initialX = 1000m 
#*.bgCell[*].mobility.initialY = 966m

 
# number and position of background UEs in the background cells 
#*.bgCell[*].bgTrafficGenerator.numBgUes = 100
#*.bgCell[*].bgTrafficGenerator.computeAvgInterference = true
#*.bgCell[*].bgTrafficGenerator.bgUE[*].mobility.initialX = normal(235m,120m) 
#*.bgCell[*].bgTrafficGenerator.bgUE[*].mobility.initialY = normal(235m,120m) 
 
# Background traffic in the background cells
#*.bgCell[*].bgTrafficGenerator.bgUE[*].trafficGeneratorType = "TrafficGeneratorCbr" 
#*.bgCell[*].bgTrafficGenerator.bgUE[*].generator.startTimeDl = uniform(0s,0.05s) 
#*.bgCell[*].bgTrafficGenerator.bgUE[*].generator.packetSizeDl = 1000B 
#*.bgCell[*].bgTrafficGenerator.bgUE[*].generator.periodDl = 0.01s 



